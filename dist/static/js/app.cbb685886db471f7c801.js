webpackJsonp([1],{"+JmE":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs-wrap"},[n("div",{staticClass:"ul-wrap"},[n("ul",t._l(t.tabs,function(e,a){return n("li",{key:a,class:t.active===a?"active":"",style:{width:t.width},on:{click:function(e){t.tabClick(a)}}},[t._v("\n        "+t._s(e.value)+"  \n      ")])}))]),t._v(" "),n("div",{staticClass:"tab-content-wrap"},[t._t("default")],2)])},i=[]},"+y7f":function(t,e,n){"use strict";e.a={props:{author:Object,reply:Object}}},"076A":function(t,e){},"3f9b":function(t,e){},"3sIG":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-item"},[n("div",{staticClass:"header"},[n("div",{staticClass:"author-info-box"},[n("a",{staticClass:"avatar-link"},[n("img",{staticClass:"avatar",attrs:{src:t.topic.author.avatar_url,alt:""}})]),t._v(" "),n("div",{staticClass:"name-and-time"},[n("h3",{staticClass:"author-name"},[t._v(t._s(t.topic.author.loginname))]),t._v(" "),n("p",{staticClass:"create-time"},[t._v(t._s(t._f("timeDistanceNow")(t.topic.create_at)))])])]),t._v(" "),n("div",{staticClass:"topic-type-box"},[n("div",{staticClass:"topic-type",style:{background:t.getColor(t.topic.tab)}},[t._v(t._s(t._f("strToChinese")(t.topic.tab)))])])]),t._v(" "),n("router-link",{staticClass:"body",attrs:{to:"/topic/"+t.topic.id}},[t._v(t._s(t.topic.title))]),t._v(" "),n("div",{staticClass:"footer"},[n("div",{staticClass:"visit-count"},[n("i",{staticClass:"iconfont icon-yuedu"}),t._v("\n      "+t._s(t.topic.visit_count)+"\n    ")]),t._v(" "),n("div",{staticClass:"reply-count"},[n("i",{staticClass:"iconfont icon-liuyan"}),t._v("\n      "+t._s(t.topic.reply_count)+"\n    ")]),t._v(" "),n("div",{staticClass:"last-reply-time"},[t._v("\n      "+t._s(t._f("timeDistanceNow")(t.topic.last_reply_at))+"\n    ")])])],1)},i=[]},"6/+i":function(t,e,n){"use strict";var a=(n("NYxO"),n("svOl")),i=n("A82U");e.a={components:{Comment:i.a,SwitchBar:a.a},data:function(){return{text:"回到话题"}},computed:{replies:function(){return this.$store.state.topic.detail.replies}},methods:{back:function(){this.$router.go(-1)},gotoPath:function(t){t?sessionStorage.token?this.$store.dispatch("topic/reply",{comment:t,user:this.$store.state.login.user}):this.$toast.fail("登录后才可评论"):this.back()}}}},"6YVf":function(t,e){},"80Al":function(t,e){},"8NyX":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"fixed-navbar"},[n("van-nav-bar",{attrs:{fixed:"",title:"CNode.js中文社区"}})],1),t._v(" "),n("TopicList",{attrs:{listType:"all"}})],1)},i=[]},"9Bo3":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[n("p",[t._v("待完善")])])}]},A82U:function(t,e,n){"use strict";function a(t){n("6YVf")}var i=n("KRQT"),o=n("qGbh"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-6d9d08e2",null);e.a=r.exports},DOfO:function(t,e){},F5wC:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-item"},[t._m(0),t._v(" "),n("div",{staticClass:"main-area"},[n("h3",[t._v(t._s(t.author.loginname))]),t._v(" "),n("p",[t._v(t._s(t.reply.content))])]),t._v(" "),n("div",{staticClass:"date-area"},[t._v("\n    "+t._s(t._f("timeDistanceNow")(t.reply.create_at))+"\n  ")])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar-area"},[n("img",{attrs:{src:"author.avatar_url",alt:""}})])}]},FRzt:function(t,e,n){"use strict";e.a={name:"TopicItem",props:{topic:Object},methods:{getColor:function(t){switch(t){case"share":return"#f44336";case"ask":return"#9c27b0";case"job":return"#03a9f4";case"dev":return"#4caf50";case"good":return"#ffc107";case"top":return"#795548";default:return""}}}}},G8f8:function(t,e){},HtpJ:function(t,e,n){"use strict";function a(t){n("80Al")}var i=n("FRzt"),o=n("3sIG"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-2617fc1d",null);e.a=r.exports},IcnI:function(t,e,n){"use strict";var a=n("/5sW"),i=n("NYxO"),o=n("mtWM"),s=(n.n(o),n("jeSg")),c=n("gy/U");a.default.use(i.a),e.a=new i.a.Store({modules:{login:s.a,topic:c.a}})},J373:function(t,e){},KIQo:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch-bar"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.comment,expression:"comment",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.goto}},[t._v(t._s(t.value))])])},i=[]},KPGV:function(t,e,n){"use strict";function a(t){n("YbIc")}var i=n("ZcBe"),o=n("mbkj"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-649def7a",null);e.a=r.exports},KRQT:function(t,e,n){"use strict";e.a={data:function(){return{}},props:{comment:Object},methods:{like:function(){sessionStorage.token?this.$store.dispatch("topic/setLike",{uped:!this.comment.is_uped,id:this.comment.id}):this.goLogin()},goLogin:function(){this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})}}}},Lb0O:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category"},[n("Tab",{attrs:{tabs:t.categoryList},on:{tab:t.getCurrent}},[n("keep-alive",t._l(t.categoryList,function(e,a){return a===t.currentTab?n("TopicList",{key:a,attrs:{listType:e.name}}):t._e()}))],1)],1)},i=[]},M93x:function(t,e,n){"use strict";function a(t){n("Qi+p")}var i=n("xJD8"),o=n("Tksz"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,null,null);e.a=r.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fZjL"),i=n.n(a),o=n("tcuZ"),s=(n.n(o),n("iMPx")),c=n.n(s),r=n("jydU"),u=(n.n(r),n("WQwN")),l=n.n(u),f=n("SsyO"),d=(n.n(f),n("4jjj")),v=n.n(d),p=n("eoO4"),m=(n.n(p),n("O++1")),h=n.n(m),g=n("uTM9"),_=(n.n(g),n("Jq84")),b=n.n(_),C=n("Mcfu"),y=(n.n(C),n("r9aq")),k=n.n(y),$=n("3evy"),x=(n.n($),n("Irlo")),w=n.n(x),L=n("CCOf"),T=(n.n(L),n("rrcz")),j=n.n(T),M=n("jgNZ"),O=(n.n(M),n("syWm")),E=n.n(O),I=n("dKGA"),S=(n.n(I),n("kSul")),N=n.n(S),D=n("FDxC"),P=(n.n(D),n("w+oK")),q=n.n(P),X=n("QP/A"),A=(n.n(X),n("pyxX")),W=n.n(A),J=n("cnGM"),Q=(n.n(J),n("S6j6")),Y=n.n(Q),z=n("GKy3"),U=(n.n(z),n("4vvA")),G=n.n(U),B=n("/5sW"),V=n("M93x"),K=n("YaEn"),R=n("IcnI"),Z=n("mtWM"),H=n.n(Z),F=n("Q0Ca"),tt=n("J373");n.n(tt);B.default.use(c.a).use(l.a).use(v.a).use(h.a).use(b.a).use(k.a).use(w.a).use(j.a).use(E.a).use(N.a).use(q.a).use(W.a).use(Y.a).use(G.a),H.a.defaults.baseURL="https://cnodejs.org/api/v1",B.default.prototype.$axios=H.a,window.axios=H.a,i()(F).forEach(function(t){B.default.filter(t,F[t])}),new B.default({el:"#app",router:K.a,store:R.a,render:function(t){return t(V.a)}})},NIhD:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("transition-group",{attrs:{name:"fade"}},t._l(t.list,function(t){return n("TopicItem",{key:t.id,attrs:{topic:t}})}))],1)},i=[]},NtoT:function(t,e,n){"use strict";var a=n("//Fk"),i=n.n(a);e.a={data:function(){return{accesstoken:""}},methods:{onClickLeft:function(){this.$router.go(-1)},submit:function(){var t=this;if(!this.accesstoken)return void this.$toast.fail("请输入Access Token");new i.a(function(e,n){t.$axios.post("/accesstoken",{accesstoken:t.accesstoken}).then(function(n){console.log(n),sessionStorage.token=t.accesstoken,t.$store.commit("login/setLogin",{user:{loginname:n.loginname,id:n.id,avatar_url:n.avatar_url}}),t.$router.replace(t.$route.query.redirect||"/"),e()}).catch(function(e){t.$toast.fail(e)})})}},mounted:function(){}}},PqI4:function(t,e,n){"use strict";function a(t){n("gJtL")}var i=n("r8Uj"),o=n("NIhD"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-c8f63776",null);e.a=r.exports},Q0Ca:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"timeDistanceNow",function(){return a}),n.d(e,"strToChinese",function(){return i});var a=function(t){var e=new Date(t).getTime(),n=(new Date).getTime(),a=n-e;if(a>=31536e6){return Math.floor(a/31536e6)+"年前"}if(a>=864e5){return Math.floor(a/864e5)+"天前"}if(a>=36e5){return Math.floor(a/36e5)+"小时前"}if(a>=6e4){return Math.floor(a/6e4)+"分钟前"}return""},i=function(t){switch(t){case"share":return"分享";case"ask":return"问答";case"job":return"招聘";case"dev":return"测试";case"good":return"精华";case"top":return"置顶";default:return""}}},"Qi+p":function(t,e){},Tksz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{exclude:"TopicDetail"}},[n("router-view")],1),t._v(" "),t.hasBg?n("div",{staticClass:"bg"}):t._e()],1)},i=[]},ToMd:function(t,e,n){"use strict";e.a={data:function(){return{comment:""}},props:{text:String},computed:{value:function(){return this.comment?"评论":this.text},placeholder:function(){return this.$store.state.login.isLogin?"快来评论":"登录后才可评论"}},methods:{goto:function(){this.$emit("goto",this.comment)}}}},UOlw:function(t,e,n){"use strict";var a=n("HtpJ"),i=n("PqI4");e.a={name:"home",components:{TopicItem:a.a,TopicList:i.a},data:function(){return{isLoading:!1,pos:0}},activated:function(){},methods:{},created:function(){},mounted:function(){},beforeRouteLeave:function(t,e,n){this.pos=document.body.scrollTop+document.documentElement.scrollTop,n()},beforeRouteEnter:function(t,e,n){n(function(t){window.scrollTo(0,t.pos)})}}},VDaM:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("keep-alive",[n("router-view")],1),t._v(" "),n("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{to:"/"}},[n("span",[t._v("首页")]),t._v(" "),n("i",{staticClass:"iconfont icon-shouye",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/category"}},[n("span",[t._v("分类")]),t._v(" "),n("i",{staticClass:"iconfont icon-danpin",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/message"}},[n("span",[t._v("消息")]),t._v(" "),n("i",{staticClass:"iconfont icon-message",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/user"}},[n("span",[t._v("我的")]),t._v(" "),n("i",{staticClass:"iconfont icon-user",attrs:{slot:"icon"},slot:"icon"})])],1)],1)},i=[]},VpIt:function(t,e,n){"use strict";e.a={data:function(){return{active:0,pos:[]}},props:{tabs:Array},computed:{width:function(){return 100/this.tabs.length+"%"}},created:function(){var t=this;this.tabs.forEach(function(e,n){t.pos.push({id:n,scrollTop:0})})},methods:{tabClick:function(t){var e=this,n=document.documentElement.scrollTop||document.body.scrollTop;this.pos[this.active].scrollTop=n,this.active=t,this.$emit("tab",t),this.$nextTick(function(){window.scrollTo(0,e.pos[t].scrollTop)})}}}},WSsd:function(t,e){},WmY6:function(t,e,n){"use strict";function a(t){n("G8f8")}var i=n("VpIt"),o=n("+JmE"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-471600f2",null);e.a=r.exports},YaEn:function(t,e,n){"use strict";var a=n("/5sW"),i=n("/ocq"),o=n("mlqX"),s=n("j7e0"),c=n("fXvj"),r=n("KPGV"),u=n("i/Eh"),l=n("lmfZ"),f=n("eqAl"),d=n("mCIm");a.default.use(i.a);var v=[{path:"/",component:o.a,children:[{path:"/",component:s.a},{path:"category",component:c.a},{path:"message",component:r.a},{path:"user",component:u.a}]},{path:"/login",component:l.a},{path:"/topic/:id",component:f.a,props:!0,children:[{path:"reply",component:d.a}]}],p=new i.a({routes:v});e.a=p},YbIc:function(t,e){},ZcBe:function(t,e,n){"use strict";var a=n("qI5z"),i=n("WmY6"),o=n("ZkxY");n("NYxO");e.a={name:"message",components:{Tab:i.a,InfoItem:o.a},data:function(){return{messageList:a.b,currentTab:0,infoCollection:[]}},computed:{isLogin:function(){return this.$store.state.login.isLogin}},methods:{getCurrent:function(t){this.currentTab=t},goLogin:function(){this.$router.push({path:"/login",query:{redirect:this.$router.history.current.fullPath}})}},mounted:function(){var t=this;this.isLogin&&this.$axios.get("/messages",{params:{accesstoken:sessionStorage.token}}).then(function(e){var n=e.data.data;t.infoCollection=[n.has_read_messages,n.hasnot_read_messages]}).catch(function(e){t.$toast.fail(e)})}}},ZkxY:function(t,e,n){"use strict";function a(t){n("tAhk")}var i=n("+y7f"),o=n("F5wC"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-8f036e0c",null);e.a=r.exports},cmQW:function(t,e,n){"use strict";e.a={name:"user"}},dCOM:function(t,e){},eqAl:function(t,e,n){"use strict";function a(t){n("lLgT")}var i=n("svNQ"),o=n("ws43"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-3e4690be",null);e.a=r.exports},fXvj:function(t,e,n){"use strict";var a=n("pRJA"),i=n("Lb0O"),o=n("XyMi"),s=Object(o.a)(a.a,i.a,i.b,!1,null,null,null);e.a=s.exports},gJtL:function(t,e){},"gy/U":function(t,e,n){"use strict";var a=n("/5sW"),i={isLoading:!1,detail:{author:{}}},o={},s={getDetail:function(t,e){var n=t.commit,i=t.rootState,o={};o=i.login.isLogin?{mdrender:!0,accesstoken:sessionStorage.token}:{mdrender:!0},axios.get("/topic/"+e.id,{params:o}).then(function(t){n("setLoading",!1);var e=t.data.data;n("setDetail",e)}).catch(function(t){throw a.default.prototype.$toast.fail(t),new Error(t)})},setCollect:function(t,e){var n=t.commit;axios.post("/topic_collect/collect",{accesstoken:sessionStorage.token,topic_id:e.id}).then(function(t){n("setCollect",e.collect),a.default.prototype.$toast("收藏成功")}).catch(function(t){throw a.default.prototype.$toast.fail(t),new Error(t)})},delCollect:function(t,e){var n=t.commit;axios.post("/topic_collect/de_collect ",{accesstoken:sessionStorage.token,topic_id:e.id}).then(function(t){n("delCollect",e.collect),a.default.prototype.$toast("取消收藏")}).catch(function(t){throw a.default.prototype.$toast.fail(t),new Error(t)})},setLike:function(t,e){var n=t.commit;t.state;axios.post("/reply/"+e.id+"/ups",{accesstoken:sessionStorage.token}).then(function(t){n("setLike",e)}).catch(function(t){throw console.log(t),a.default.prototype.$toast.fail("不能帮自己点赞"),new Error(t)})},reply:function(t,e){var n=t.commit,i=t.state;axios.post("/topic/"+i.detail.id+"/replies",{accesstoken:sessionStorage.token,content:e.comment}).then(function(t){n("reply",e),location.reload()}).catch(function(t){throw a.default.prototype.$toast.fail(t),new Error(t)})}},c={setLoading:function(t,e){t.isLoading=e},setDetail:function(t,e){t.detail=e},setCollect:function(t,e){t.detail.is_collect=e},delCollect:function(t,e){t.detail.is_collect=e},setLike:function(t,e){t.detail.replies.forEach(function(t){t.id===e.id&&(t.is_uped=e.uped,e.uped?t.ups.push(e.id):t.ups.pop())})},reply:function(t,e){t.detail.replies.push({author:{avatar_url:e.user.avatar_url,loginname:e.user.loginname},content:e.comment,create_at:new Date,id:t.detail.id,is_uped:!1,reply_id:null})}};e.a={namespaced:!0,state:i,getters:o,actions:s,mutations:c}},"i/Eh":function(t,e,n){"use strict";var a=n("cmQW"),i=n("9Bo3"),o=n("XyMi"),s=Object(o.a)(a.a,i.a,i.b,!1,null,null,null);e.a=s.exports},itIU:function(t,e){},j7e0:function(t,e,n){"use strict";var a=n("UOlw"),i=n("8NyX"),o=n("XyMi"),s=Object(o.a)(a.a,i.a,i.b,!1,null,null,null);e.a=s.exports},jeSg:function(t,e,n){"use strict";var a={isLogin:!!sessionStorage.token,user:{avatar_url:"",loginname:"",id:""}},i={},o={},s={setLogin:function(t,e){t.isLogin=!0,t.user=e}};e.a={namespaced:!0,state:a,getters:i,actions:o,mutations:s}},lLgT:function(t,e){},lmfZ:function(t,e,n){"use strict";function a(t){n("WSsd")}var i=n("NtoT"),o=n("o69c"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-2988d460",null);e.a=r.exports},m7zo:function(t,e){},mCIm:function(t,e,n){"use strict";function a(t){n("oM05")}var i=n("6/+i"),o=n("zV0M"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-3b1ce47a",null);e.a=r.exports},mbkj:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message"},[n("Tab",{attrs:{tabs:t.messageList},on:{tab:t.getCurrent}},[t.isLogin?n("div",{staticClass:"login-display"},[n("keep-alive",t._l(t.infoCollection,function(e,a){return t.currentTab===a?n("van-cell-group",{key:a,class:{"no-bgborder":e.length<1}},[e.length>=1?t._l(e,function(t){return n("van-cell",{key:t.id},[n("InfoItem",{attrs:{author:t.author,reply:t.reply}})],1)}):[n("van-cell",{staticClass:"no-bg"},[n("p",{staticClass:"no-info"},[t._v("no info")])])]],2):t._e()}))],1):n("div",{staticClass:"login-tip"},[n("h2",[t._v("登录后可查看")]),t._v(" "),n("van-button",{attrs:{type:"primary",text:"登录"},on:{click:t.goLogin}})],1)])],1)},i=[]},mlqX:function(t,e,n){"use strict";var a=n("tk/L"),i=n("VDaM"),o=n("XyMi"),s=Object(o.a)(a.a,i.a,i.b,!1,null,null,null);e.a=s.exports},o69c:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"fixed-navbar"},[n("van-nav-bar",{attrs:{fixed:"",title:"登录","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),n("div",{staticClass:"form"},[n("van-cell",{attrs:{border:!1}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.accesstoken,expression:"accesstoken",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入Access Token"},domProps:{value:t.accesstoken},on:{input:function(e){e.target.composing||(t.accesstoken=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("van-button",{attrs:{type:"primary",text:"登录"},on:{click:t.submit}}),t._v(" "),n("p",{staticClass:"tip"},[t._v("提示：可通过我的Access Token登录，c0e67253-b88e-442b-b278-49fe40a9871f")])],1)])},i=[]},oM05:function(t,e){},pRJA:function(t,e,n){"use strict";var a=n("qI5z"),i=n("PqI4"),o=n("WmY6");e.a={name:"category",data:function(){return{categoryList:a.a,currentTab:0}},components:{TopicList:i.a,Tab:o.a},created:function(){},methods:{getCurrent:function(t){this.currentTab=t}}}},qCSc:function(t,e){},qGbh:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{staticClass:"comment"},[n("div",{staticClass:"head"},[n("img",{staticClass:"avatar",attrs:{src:t.comment.author.avatar_url,alt:""}}),t._v(" "),n("span",{staticClass:"loginname"},[t._v(t._s(t.comment.author.loginname))]),t._v(" "),n("div",{staticClass:"like-area",style:{color:t.comment.is_uped?"rgb(240, 183, 28)":""},on:{click:t.like}},[n("i",{staticClass:"iconfont icon-like"}),t._v("\n      "+t._s(t.comment.ups.length)+"\n    ")])]),t._v(" "),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.comment.content)}})])},i=[]},qI5z:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=[{id:0,name:"share",value:"分享",color:""},{id:1,name:"ask",value:"问答",color:""},{id:2,name:"job",value:"招聘",color:""},{id:3,name:"dev",value:"测试",color:""},{id:4,name:"good",value:"精华",color:""}],i=[{id:0,name:"unknown",value:"未读消息"},{id:1,name:"read",value:"已读消息"}]},qzWe:function(t,e){},r8Uj:function(t,e,n){"use strict";var a=n("Gu7T"),i=n.n(a),o=n("HtpJ");e.a={components:{TopicItem:o.a},props:{listType:String},data:function(){return{loading:!0,finished:!1,list:[],page:1}},methods:{onLoad:function(){this.axiosData(this.page,20,this.listType)},axiosData:function(t,e,n){var a=this;this.$axios.get("/topics",{params:{page:t,limit:e,tab:n}}).then(function(t){var e=t.data;if(e.success&&e.data.length>=1){var n;(n=a.list).push.apply(n,i()(e.data)),a.loading=!1,a.page++}e.data.length<1&&(a.finished=!0)})}},created:function(){this.onLoad()}}},svNQ:function(t,e,n){"use strict";var a=n("svOl");e.a={name:"TopicDetail",components:{SwitchBar:a.a},data:function(){return{text:"查看评论"}},props:{id:String},computed:{isLoading:function(){return this.$store.state.topic.isLoading},detail:function(){return this.$store.state.topic.detail},isCollect:function(){return this.$store.state.topic.detail.is_collect}},methods:{collect:function(){sessionStorage.token?this.isCollect?this.$store.dispatch("topic/delCollect",{collect:!this.isCollect,id:this.id}):this.$store.dispatch("topic/setCollect",{collect:!this.isCollect,id:this.id}):this.goLogin()},goLogin:function(){this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},back:function(){this.$router.go(-1)},gotoPath:function(t){t?sessionStorage.token?this.$store.dispatch("topic/reply",{comment:t,user:this.$store.state.login.user}):this.$toast.fail("登录后才可评论"):this.$router.push(this.$route.fullPath+"/reply")}},created:function(){this.$store.commit("topic/setLoading",!0),this.$store.dispatch("topic/getDetail",{id:this.id})}}},svOl:function(t,e,n){"use strict";function a(t){n("xWN0")}var i=n("ToMd"),o=n("KIQo"),s=n("XyMi"),c=a,r=Object(s.a)(i.a,o.a,o.b,!1,c,"data-v-15387355",null);e.a=r.exports},tAhk:function(t,e){},"tk/L":function(t,e,n){"use strict";e.a={data:function(){return{active:0}},methods:{},mounted:function(){switch(this.$router.history.current.fullPath){case"/":this.active=0;break;case"/category":this.active=1;break;case"/message":this.active=2;break;case"/user":this.active=3;break;default:this.active=4}}}},ws43:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-detail"},[t.isLoading?[n("div",{staticClass:"mask"}),t._v(" "),n("van-loading",{staticClass:"loading-style",attrs:{size:"60px",color:"black",type:"spinner"}})]:[n("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.back,"click-right":t.collect}},[n("div",{staticClass:"bar-title",attrs:{slot:"title"},slot:"title"},[n("img",{staticClass:"avatar",attrs:{src:t.detail.author.avatar_url,alt:""}}),t._v(" "),n("span",[t._v(t._s(t.detail.author.loginname))])]),t._v(" "),n("i",{staticClass:"iconfont",class:t.isCollect?"icon-jushoucanggift":"icon-jushoucang",attrs:{slot:"right"},slot:"right"})]),t._v(" "),n("div",{staticClass:"main"},[n("h3",{staticClass:"head"},[t._v(t._s(t.detail.title))]),t._v(" "),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.detail.content)}}),t._v(" "),n("div",{staticClass:"create-time"},[t._v("\n        创建于:"+t._s(t._f("timeDistanceNow")(t.detail.create_at))+"\n      ")])]),t._v(" "),n("SwitchBar",{staticClass:"detail-switch-bar",attrs:{text:t.text},on:{goto:t.gotoPath}},[t._v(">")]),t._v(" "),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)]],2)},i=[]},xJD8:function(t,e,n){"use strict";n("eqAl");e.a={name:"app",mounted:function(){console.log(this.$router),console.log(this.$store)},computed:{hasBg:function(){return-1===this.$route.fullPath.indexOf("login")}}}},xL5C:function(t,e){},xWN0:function(t,e){},zV0M:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments"},[n("div",{staticClass:"comments-inner"},[n("van-nav-bar",{attrs:{"left-arrow":"",title:"评论"},on:{"click-left":t.back}}),t._v(" "),n("van-cell-group",{staticClass:"main"},[t.replies.length>=1?t._l(t.replies,function(t,e){return n("Comment",{key:e,attrs:{comment:t}})}):[n("p",{staticClass:"no-comments"},[t._v("暂时没有评论")])]],2),t._v(" "),n("SwitchBar",{staticClass:"comment-switch-bar",attrs:{text:t.text},on:{goto:t.gotoPath}})],1)])},i=[]}},["NHnr"]);
//# sourceMappingURL=app.cbb685886db471f7c801.js.map